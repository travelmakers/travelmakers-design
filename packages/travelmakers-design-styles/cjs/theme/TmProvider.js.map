{"version":3,"file":"TmProvider.js","sources":["../../src/theme/TmProvider.tsx"],"sourcesContent":["import React, { createContext, useContext } from \"react\";\nimport type { TmTheme, TmThemeOverride } from \"./types\";\n\nimport type { CSSObject } from \"../tss\";\nimport { DEFAULT_THEME } from \"./defaultTheme\";\nimport type { Options as EmotionCacheOptions } from \"@emotion/cache\";\nimport { Global } from \"../tss/Global\";\nimport { NormalizeCSS } from \"./NormalizeCSS\";\nimport { mergeTheme } from \"./utils/mergeTheme\";\n\ntype ProviderStyles = Record<\n  string,\n  Record<string, CSSObject> | ((theme: TmTheme) => Record<string, CSSObject>)\n>;\n\ninterface TmThemeContextType {\n  theme: TmTheme;\n  styles: ProviderStyles;\n  emotionOptions: EmotionCacheOptions;\n}\n\nconst TmThemeContext = createContext<TmThemeContextType>({\n  theme: DEFAULT_THEME,\n  styles: {},\n  emotionOptions: { key: \"co\", prepend: true },\n});\n\nexport function useTmTheme() {\n  return useContext(TmThemeContext)?.theme || DEFAULT_THEME;\n}\n\nexport function useTmThemeStyles() {\n  return useContext(TmThemeContext)?.styles || {};\n}\n\nexport function useCoEmotionOptions(): EmotionCacheOptions {\n  return (\n    useContext(TmThemeContext)?.emotionOptions || { key: \"co\", prepend: true }\n  );\n}\n\ninterface TmProviderProps {\n  theme?: TmThemeOverride;\n  styles?: ProviderStyles;\n  emotionOptions?: EmotionCacheOptions;\n  withNormalizeCSS?: boolean;\n  withGlobalStyles?: boolean;\n  children: React.ReactNode;\n}\n\nconst GlobalStyles = () => {\n  return (\n    <Global\n      styles={(theme) => ({\n        \"*, *::before, *::after\": {\n          boxSizing: \"border-box\",\n        },\n\n        body: {\n          fontFamily: theme.fontFamily,\n          backgroundColor:\n            theme.colorScheme === \"dark\"\n              ? theme.colors.black\n              : theme.colors.white,\n          color:\n            theme.colorScheme === \"dark\"\n              ? theme.colors.white\n              : theme.colors.black,\n          lineHeight: theme.lineHeight,\n          fontSizes: theme.fontSizes.b3,\n        } as any,\n      })}\n    />\n  );\n};\n\nexport const TmProvider = ({\n  theme,\n  styles = {},\n  emotionOptions,\n  withNormalizeCSS = false,\n  withGlobalStyles = false,\n  children,\n}: TmProviderProps) => {\n  return (\n    <TmThemeContext.Provider\n      value={{\n        theme: mergeTheme(DEFAULT_THEME, theme),\n        styles,\n        emotionOptions,\n      }}\n    >\n      {withNormalizeCSS && <NormalizeCSS />}\n      {withGlobalStyles && <GlobalStyles />}\n      {children}\n    </TmThemeContext.Provider>\n  );\n};\n\nTmProvider.displayName = \"@travelmakers-design/styles/TmProvider\";\n"],"names":["createContext","DEFAULT_THEME","useContext","React","Global","mergeTheme","NormalizeCSS"],"mappings":";;;;;;;;;;;;;;AAKA,MAAM,cAAc,GAAGA,mBAAa,CAAC;AACrC,EAAE,KAAK,EAAEC,0BAAa;AACtB,EAAE,MAAM,EAAE,EAAE;AACZ,EAAE,cAAc,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE;AAC9C,CAAC,CAAC,CAAC;AACI,SAAS,UAAU,GAAG;AAC7B,EAAE,IAAI,EAAE,CAAC;AACT,EAAE,OAAO,CAAC,CAAC,EAAE,GAAGC,gBAAU,CAAC,cAAc,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,KAAK,KAAKD,0BAAa,CAAC;AAC1F,CAAC;AACM,SAAS,gBAAgB,GAAG;AACnC,EAAE,IAAI,EAAE,CAAC;AACT,EAAE,OAAO,CAAC,CAAC,EAAE,GAAGC,gBAAU,CAAC,cAAc,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,MAAM,KAAK,EAAE,CAAC;AAChF,CAAC;AACM,SAAS,mBAAmB,GAAG;AACtC,EAAE,IAAI,EAAE,CAAC;AACT,EAAE,OAAO,CAAC,CAAC,EAAE,GAAGA,gBAAU,CAAC,cAAc,CAAC,KAAK,IAAI,GAAG,KAAK,CAAC,GAAG,EAAE,CAAC,cAAc,KAAK,EAAE,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;AAClH,CAAC;AACD,MAAM,YAAY,GAAG,MAAM;AAC3B,EAAE,uBAAuBC,cAAK,CAAC,aAAa,CAACC,aAAM,EAAE;AACrD,IAAI,MAAM,EAAE,CAAC,KAAK,MAAM;AACxB,MAAM,wBAAwB,EAAE;AAChC,QAAQ,SAAS,EAAE,YAAY;AAC/B,OAAO;AACP,MAAM,IAAI,EAAE;AACZ,QAAQ,UAAU,EAAE,KAAK,CAAC,UAAU;AACpC,QAAQ,eAAe,EAAE,KAAK,CAAC,WAAW,KAAK,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK;AAC/F,QAAQ,KAAK,EAAE,KAAK,CAAC,WAAW,KAAK,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK;AACrF,QAAQ,UAAU,EAAE,KAAK,CAAC,UAAU;AACpC,QAAQ,SAAS,EAAE,KAAK,CAAC,SAAS,CAAC,EAAE;AACrC,OAAO;AACP,KAAK,CAAC;AACN,GAAG,CAAC,CAAC;AACL,CAAC,CAAC;AACU,MAAC,UAAU,GAAG,CAAC;AAC3B,EAAE,KAAK;AACP,EAAE,MAAM,GAAG,EAAE;AACb,EAAE,cAAc;AAChB,EAAE,gBAAgB,GAAG,KAAK;AAC1B,EAAE,gBAAgB,GAAG,KAAK;AAC1B,EAAE,QAAQ;AACV,CAAC,KAAK;AACN,EAAE,uBAAuBD,cAAK,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,EAAE;AACtE,IAAI,KAAK,EAAE;AACX,MAAM,KAAK,EAAEE,qBAAU,CAACJ,0BAAa,EAAE,KAAK,CAAC;AAC7C,MAAM,MAAM;AACZ,MAAM,cAAc;AACpB,KAAK;AACL,GAAG,EAAE,gBAAgB,oBAAoBE,cAAK,CAAC,aAAa,CAACG,yBAAY,EAAE,IAAI,CAAC,EAAE,gBAAgB,oBAAoBH,cAAK,CAAC,aAAa,CAAC,YAAY,EAAE,IAAI,CAAC,EAAE,QAAQ,CAAC,CAAC;AACzK,EAAE;AACF,UAAU,CAAC,WAAW,GAAG,wCAAwC;;;;;;;"}