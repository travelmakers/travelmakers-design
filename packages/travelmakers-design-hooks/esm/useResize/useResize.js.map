{"version":3,"file":"useResize.js","sources":["../../src/useResize/useResize.ts"],"sourcesContent":["import { useEffect, useMemo, useRef } from 'react';\nimport { useRafState } from '../useRafState';\n\ntype ObserverRect = Omit<DOMRectReadOnly, 'toJSON'>;\n\nconst defaultState: ObserverRect = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0,\n  top: 0,\n  left: 0,\n  bottom: 0,\n  right: 0,\n};\n\nconst browser = typeof window !== 'undefined';\n\nexport const useResize = <T extends HTMLElement = any>() => {\n  const ref = useRef<T>(null);\n\n  const [rect, setRect] = useRafState<ObserverRect>(defaultState);\n\n  const observer = useMemo(\n    () =>\n      browser\n        ? new ResizeObserver((entries: any) => {\n            const entry = entries[0];\n\n            if (entry) {\n              setRect(entry.contentRect);\n            }\n          })\n        : null,\n    [],\n  );\n\n  useEffect(() => {\n    if (ref.current) {\n      observer.observe(ref.current);\n    }\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [ref.current]);\n\n  return [ref, rect] as const;\n};\n"],"names":[],"mappings":";;;AAEA,MAAM,YAAY,GAAG;AACrB,EAAE,CAAC,EAAE,CAAC;AACN,EAAE,CAAC,EAAE,CAAC;AACN,EAAE,KAAK,EAAE,CAAC;AACV,EAAE,MAAM,EAAE,CAAC;AACX,EAAE,GAAG,EAAE,CAAC;AACR,EAAE,IAAI,EAAE,CAAC;AACT,EAAE,MAAM,EAAE,CAAC;AACX,EAAE,KAAK,EAAE,CAAC;AACV,CAAC,CAAC;AACF,MAAM,OAAO,GAAG,OAAO,MAAM,KAAK,WAAW,CAAC;AAClC,MAAC,SAAS,GAAG,MAAM;AAC/B,EAAE,MAAM,GAAG,GAAG,MAAM,CAAC,IAAI,CAAC,CAAC;AAC3B,EAAE,MAAM,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,WAAW,CAAC,YAAY,CAAC,CAAC;AACpD,EAAE,MAAM,QAAQ,GAAG,OAAO,CAAC,MAAM,OAAO,GAAG,IAAI,cAAc,CAAC,CAAC,OAAO,KAAK;AAC3E,IAAI,MAAM,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;AAC7B,IAAI,IAAI,KAAK,EAAE;AACf,MAAM,OAAO,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;AACjC,KAAK;AACL,GAAG,CAAC,GAAG,IAAI,EAAE,EAAE,CAAC,CAAC;AACjB,EAAE,SAAS,CAAC,MAAM;AAClB,IAAI,IAAI,GAAG,CAAC,OAAO,EAAE;AACrB,MAAM,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;AACpC,KAAK;AACL,IAAI,OAAO,MAAM;AACjB,MAAM,QAAQ,CAAC,UAAU,EAAE,CAAC;AAC5B,KAAK,CAAC;AACN,GAAG,EAAE,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;AACpB,EAAE,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;AACrB;;;;"}