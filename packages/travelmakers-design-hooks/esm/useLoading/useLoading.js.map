{"version":3,"file":"useLoading.js","sources":["../../src/useLoading/useLoading.ts"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useCallbackRef } from '../useCallbackRef';\n\nexport const useLoading = <T extends (...args: any[]) => Promise<any>>(fn: T): [boolean, T] => {\n  const [loading, setLoading] = useState(false);\n  const savedCallback = useCallbackRef(fn);\n\n  const handler = useCallback(\n    async (...args) => {\n      setLoading(true);\n      const result = await savedCallback(...args);\n      setLoading(false);\n      return result;\n    },\n    [fn],\n  );\n\n  return [loading, handler as any];\n};\n"],"names":[],"mappings":";;;AAEY,MAAC,UAAU,GAAG,CAAC,EAAE,KAAK;AAClC,EAAE,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;AAChD,EAAE,MAAM,aAAa,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC;AAC3C,EAAE,MAAM,OAAO,GAAG,WAAW,CAAC,OAAO,GAAG,IAAI,KAAK;AACjD,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;AACrB,IAAI,MAAM,MAAM,GAAG,MAAM,aAAa,CAAC,GAAG,IAAI,CAAC,CAAC;AAChD,IAAI,UAAU,CAAC,KAAK,CAAC,CAAC;AACtB,IAAI,OAAO,MAAM,CAAC;AAClB,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;AACX,EAAE,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AAC5B;;;;"}